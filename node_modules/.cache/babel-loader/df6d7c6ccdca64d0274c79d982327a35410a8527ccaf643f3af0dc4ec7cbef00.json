{"ast":null,"code":"import _objectSpread from\"/workspaces/HRMS-frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import _slicedToArray from\"/workspaces/HRMS-frontend/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect}from'react';import{Container}from'react-bootstrap';import{ImagePath}from'../../../assets/images';import{CommonColors,style}from'../../../theming/style/style';import{AppStringUtils}from'../../../utils';import*as yup from'yup';import{useFormik}from'formik';import CommonTextInput from'../../../components/common/text-input';import Spinners from'../../../components/common/spinner';import{Link}from'react-router-dom';import{AuthApi}from'../../../api/auth';import{useDispatch}from'react-redux';import{actionLogin}from'../../../store/reducer/login';import{RoutePath}from'../../../routes/route-path';import{useNavigate}from'react-router';import AlertBox from'../../../components/common/alert-box';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function Login(){var t=AppStringUtils();var router=useNavigate();var validationSchema=yup.object({username:yup.string().min(3,t.usernameminVal).max(15,t.usernamemaxVal).required(t.usernameVal),password:yup.string().min(8,t.passLengthVal).required(t.passwordVal)});var copy=new Date().getFullYear();var dispatch=useDispatch();var _React$useState=React.useState(\"\"),_React$useState2=_slicedToArray(_React$useState,2),errMessage=_React$useState2[0],setErrMessage=_React$useState2[1];var _React$useState3=React.useState(false),_React$useState4=_slicedToArray(_React$useState3,2),showPassword=_React$useState4[0],setPassword=_React$useState4[1];var _React$useState5=React.useState(false),_React$useState6=_slicedToArray(_React$useState5,2),progress=_React$useState6[0],setProgress=_React$useState6[1];var handleShowPassword=function handleShowPassword(){setPassword(!showPassword);};var formik=useFormik({initialValues:{username:'',password:''},validationSchema:validationSchema,onSubmit:function onSubmit(values,_ref){var resetForm=_ref.resetForm;apiCallLogin(values);resetForm();}});var apiCallLogin=function apiCallLogin(info){setErrMessage(\"\");setProgress(true);AuthApi.apiCallLogin(info).then(function(res){setProgress(false);dispatch(actionLogin(res.data));router(RoutePath.dashboard,{replace:true});}).catch(function(err){setProgress(false);setErrMessage(err);});};useEffect(function(){setTimeout(function(){setErrMessage(\"\");},3000);},[errMessage]);var textFieldValue=[{controlId:\"floatingInput1\",inputType:\"text\",label:\"Username\",name:\"username\",value:formik.values.username,handleChange:formik.handleChange,touchedValue:formik.touched.username,errorsValue:formik.errors.username},{controlId:'floatingInput2',inputType:\"password\",label:\"Password\",name:'password',value:formik.values.password,handleChange:formik.handleChange,touchedValue:formik.touched.password,errorsValue:formik.errors.password,iconsValue:showPassword,passwordIcon:'basic-addon2',handleShowPassword:handleShowPassword}];return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:_objectSpread({},style.pageBanner),children:/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread({},style.loginContainer),children:[/*#__PURE__*/_jsxs(\"div\",{style:_objectSpread({},style.loginForm),children:[/*#__PURE__*/_jsx(\"div\",{className:\"position-fixed top-0\",children:/*#__PURE__*/_jsx(\"img\",{src:ImagePath.synLogo,alt:t.imgAlternative,width:\"250\"})}),/*#__PURE__*/_jsx(Container,{className:\"text-center p-3 fs-2 fw-bolder\",style:_objectSpread({},style.commonColor),children:t.login}),/*#__PURE__*/_jsxs(\"form\",{style:_objectSpread({},style.formStyle),onSubmit:formik.handleSubmit,children:[textFieldValue.map(function(item,index){return/*#__PURE__*/_jsx(CommonTextInput,{textFieldValue:item},index);}),/*#__PURE__*/_jsx(Container,{children:errMessage.length>0&&/*#__PURE__*/_jsx(AlertBox,{message:errMessage,variant:\"danger\"})}),/*#__PURE__*/_jsx(Container,{className:\"text-center\",children:progress&&/*#__PURE__*/_jsx(Spinners,{isShow:progress})}),!progress&&/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"form-control rounded-5 p-2\",style:_objectSpread({},style.loginButton),children:\"Login\"})]}),/*#__PURE__*/_jsx(Container,{className:\"text-center mt-3\",style:_objectSpread({},CommonColors.firstCommon),children:/*#__PURE__*/_jsx(Link,{to:RoutePath.forgotPassword,style:_objectSpread({},style.linkForgot),children:t.fogotPassText})}),/*#__PURE__*/_jsxs(Container,{className:\"text-center mt-5\",children:[/*#__PURE__*/_jsx(Container,{style:_objectSpread({},style.textColorCommon),children:t.synText}),/*#__PURE__*/_jsxs(Container,{style:_objectSpread({},style.textColorCommon),children:[\"Copyright \\xA9 \".concat(copy),\" \",/*#__PURE__*/_jsx(\"span\",{style:_objectSpread({},style.synTech),children:t.synTech}),\" \",t.allRightsText]})]})]}),/*#__PURE__*/_jsx(\"div\",{style:_objectSpread(_objectSpread({},style.logoForm),{},{position:\"absolute\"}),children:/*#__PURE__*/_jsx(\"img\",{src:ImagePath.LogoSVG,alt:t.imgAlternative})})]})})});}","map":{"version":3,"names":["React","useEffect","Container","ImagePath","CommonColors","style","AppStringUtils","yup","useFormik","CommonTextInput","Spinners","Link","AuthApi","useDispatch","actionLogin","RoutePath","useNavigate","AlertBox","Login","t","router","validationSchema","object","username","string","min","usernameminVal","max","usernamemaxVal","required","usernameVal","password","passLengthVal","passwordVal","copy","Date","getFullYear","dispatch","useState","errMessage","setErrMessage","showPassword","setPassword","progress","setProgress","handleShowPassword","formik","initialValues","onSubmit","values","resetForm","apiCallLogin","info","then","res","data","dashboard","replace","catch","err","setTimeout","textFieldValue","controlId","inputType","label","name","value","handleChange","touchedValue","touched","errorsValue","errors","iconsValue","passwordIcon","pageBanner","loginContainer","loginForm","synLogo","imgAlternative","commonColor","login","formStyle","handleSubmit","map","item","index","length","loginButton","firstCommon","forgotPassword","linkForgot","fogotPassText","textColorCommon","synText","synTech","allRightsText","logoForm","position","LogoSVG"],"sources":["/workspaces/HRMS-frontend/src/app/container/auth/login/index.tsx"],"sourcesContent":["import React, { useEffect } from 'react';\nimport { Container } from 'react-bootstrap';\nimport { ImagePath } from '../../../assets/images';\nimport { CommonColors, style } from '../../../theming/style/style';\nimport { AppStringUtils } from '../../../utils';\nimport * as yup from 'yup';\nimport { useFormik } from 'formik';\nimport CommonTextInput from '../../../components/common/text-input';\nimport Spinners from '../../../components/common/spinner';\nimport { Link } from 'react-router-dom';\nimport { AuthApi } from '../../../api/auth';\nimport { useDispatch } from 'react-redux';\nimport { actionLogin } from '../../../store/reducer/login';\nimport { RoutePath } from '../../../routes/route-path';\nimport { useNavigate } from 'react-router';\nimport AlertBox from '../../../components/common/alert-box';\n\n\nexport default function Login() {\n  const t = AppStringUtils();\n\n  const router = useNavigate();\n\n  const validationSchema = yup.object({\n    username: yup\n    .string()\n    .min(3,t.usernameminVal)\n    .max(15,t.usernamemaxVal)\n    .required(t.usernameVal),\n    password: yup\n    .string()\n    .min(8,t.passLengthVal)\n    .required(t.passwordVal)\n  });\n  \n  let copy = new Date().getFullYear();\n\n\n  const dispatch = useDispatch();\n  const [errMessage,setErrMessage] = React.useState(\"\");\n  const [showPassword,setPassword] = React.useState(false);\n  const [progress,setProgress] = React.useState(false);\n\n\n  const handleShowPassword = () => {\n    setPassword(!showPassword);\n  }\n\n  const formik = useFormik({\n    initialValues: {\n      username: '',\n      password: ''\n    },\n    validationSchema: validationSchema,\n    onSubmit: (values,{resetForm}) => {\n        apiCallLogin(values);\n        resetForm();\n    }\n  });\n\n  const apiCallLogin = (info:any) => {\n     setErrMessage(\"\");\n     setProgress(true);\n     AuthApi.apiCallLogin(info)\n    .then((res:any) => {\n          setProgress(false);\n          dispatch(actionLogin(res.data))\n            router(RoutePath.dashboard,{replace: true});\n     })\n     .catch((err: any) => {\n      setProgress(false);\n      setErrMessage(err)\n     })\n  }\n\n  useEffect(() => {\n     setTimeout(() => {\n       setErrMessage(\"\");\n     },3000);\n  },[errMessage]);\n\n  const textFieldValue = [\n    {\n      controlId: \"floatingInput1\",\n      inputType: \"text\",\n      label: \"Username\",\n      name: \"username\",\n      value: formik.values.username,\n      handleChange: formik.handleChange,\n      touchedValue: formik.touched.username,\n      errorsValue: formik.errors.username\n    },\n    {\n      controlId: 'floatingInput2',\n      inputType: \"password\",\n      label: \"Password\",\n      name: 'password',\n      value: formik.values.password,\n      handleChange: formik.handleChange,\n      touchedValue: formik.touched.password,\n      errorsValue: formik.errors.password,\n      iconsValue: showPassword,\n      passwordIcon: 'basic-addon2',\n      handleShowPassword: handleShowPassword,\n    }\n  ]\n\n  return (\n  <>\n   <div  style={{...style.pageBanner}}>\n    <div  style={{...style.loginContainer}} >\n      <div style={{...style.loginForm}} >\n        <div className='position-fixed top-0'>\n          <img src={ImagePath.synLogo} alt={t.imgAlternative} width='250'   />\n        </div>\n\n        <Container className='text-center p-3 fs-2 fw-bolder' style={{...style.commonColor}}>{t.login}</Container>\n       \n          <form style={{...style.formStyle}} onSubmit={formik.handleSubmit}>\n           \n             \n             {textFieldValue.map((item:any,index) => \n               <CommonTextInput textFieldValue={item} key={index} />\n             )}\n            \n           \n           <Container>{errMessage.length > 0 && <AlertBox message={errMessage} variant='danger' />}</Container>\n\n           <Container className='text-center'>{progress && <Spinners  isShow={progress} />}</Container>\n\n            {!progress && <button type='submit' className='form-control rounded-5 p-2' style={{...style.loginButton}}>Login</button>}\n          </form>\n\n\n          <Container className='text-center mt-3' style={{...CommonColors.firstCommon}}>\n            <Link to={RoutePath.forgotPassword} style={{...style.linkForgot}}>{t.fogotPassText}</Link>\n          </Container>\n\n          <Container className='text-center mt-5'>\n            <Container style={{...style.textColorCommon}}>{t.synText}</Container>\n            <Container style={{...style.textColorCommon}}>{`Copyright © ${copy}`} <span style={{...style.synTech}}>{t.synTech}</span> {t.allRightsText}</Container>\n          </Container>\n  \n        </div>\n\n      <div style={{...style.logoForm,position: \"absolute\"}} >\n        <img src={ImagePath.LogoSVG} alt={t.imgAlternative} />\n      </div>\n    </div>\n   </div>\n  </>\n  )\n}\n\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}